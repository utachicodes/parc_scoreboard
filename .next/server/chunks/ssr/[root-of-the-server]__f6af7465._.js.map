{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abdou/OneDrive/Desktop/parc_dashboard_v1/src/services/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey); "],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abdou/OneDrive/Desktop/parc_dashboard_v1/src/components/PublicScoreboard.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { supabase } from '@/services/supabaseClient';\r\n\r\ninterface Score {\r\n  id: string;\r\n  team: string;\r\n  round: string;\r\n  league: string;\r\n  score: number | string;\r\n  [key: string]: any;\r\n}\r\n\r\nconst LEAGUES = [\r\n  { key: 'Tech', label: 'Tech League' },\r\n  { key: 'Stars', label: 'Stars League' },\r\n];\r\n\r\nexport default function PublicScoreboard() {\r\n  const [scores, setScores] = useState<Score[]>([]);\r\n  const [selectedLeague, setSelectedLeague] = useState('Tech');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    supabase\r\n      .from('tech_scores')\r\n      .select('*')\r\n      .then(({ data: tech }) => {\r\n        supabase\r\n          .from('stars_scores')\r\n          .select('*')\r\n          .then(({ data: stars }) => {\r\n            const all = [\r\n              ...(tech || []).map(s => ({ ...s, league: 'Tech' })),\r\n              ...(stars || []).map(s => ({ ...s, league: 'Stars' })),\r\n            ];\r\n            setScores(all);\r\n            setLoading(false);\r\n          });\r\n      });\r\n    // Real-time subscription\r\n    const techChannel = supabase\r\n      .channel('tech_scores_changes')\r\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'tech_scores' }, () => {\r\n        supabase\r\n          .from('tech_scores')\r\n          .select('*')\r\n          .then(({ data: tech }) => {\r\n            setScores(prev => {\r\n              const stars = prev.filter(s => s.league === 'Stars');\r\n              return [\r\n                ...(tech || []).map(s => ({ ...s, league: 'Tech' })),\r\n                ...stars,\r\n              ];\r\n            });\r\n          });\r\n      })\r\n      .subscribe();\r\n    const starsChannel = supabase\r\n      .channel('stars_scores_changes')\r\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'stars_scores' }, () => {\r\n        supabase\r\n          .from('stars_scores')\r\n          .select('*')\r\n          .then(({ data: stars }) => {\r\n            setScores(prev => {\r\n              const tech = prev.filter(s => s.league === 'Tech');\r\n              return [\r\n                ...tech,\r\n                ...(stars || []).map(s => ({ ...s, league: 'Stars' })),\r\n              ];\r\n            });\r\n          });\r\n      })\r\n      .subscribe();\r\n    return () => {\r\n      supabase.removeChannel(techChannel);\r\n      supabase.removeChannel(starsChannel);\r\n    };\r\n  }, []);\r\n\r\n  // Group scores by round, sort each group by score descending\r\n  const leagueScores = scores.filter(s => s.league === selectedLeague);\r\n  const rounds = Array.from(new Set(leagueScores.map(s => s.round).filter(Boolean)));\r\n  const scoresByRound = rounds.map(round => {\r\n    const entries = leagueScores\r\n      .filter(s => s.round === round)\r\n      .sort((a, b) => {\r\n        const aScore = a.score === 'Disqualified' ? -9999 : Number(a.score);\r\n        const bScore = b.score === 'Disqualified' ? -9999 : Number(b.score);\r\n        return bScore - aScore;\r\n      });\r\n    return { round, entries };\r\n  });\r\n\r\n  return (\r\n    <div className=\"min-h-screen w-full flex flex-col items-center justify-start bg-slate-50 relative overflow-x-hidden\">\r\n      <img \r\n        src=\"/parc-just_logo.png\" \r\n        alt=\"PARC Logo\" \r\n        className=\"h-32 w-auto mt-8 mb-4 drop-shadow-2xl animate-rumble\"\r\n        style={{ filter: 'drop-shadow(0 0 40px #ff8800)' }}\r\n      />\r\n      <h1 className=\"text-4xl md:text-5xl font-extrabold text-center mb-8 text-gray-900 tracking-tight\">Scoreboard</h1>\r\n      {/* League Tabs */}\r\n      <div className=\"flex gap-6 mb-8\">\r\n        {LEAGUES.map(league => (\r\n          <button\r\n            key={league.key}\r\n            onClick={() => setSelectedLeague(league.key)}\r\n            className={`px-6 py-2 rounded-lg font-semibold text-base border transition-all duration-200 ${selectedLeague === league.key ? 'border-orange-500 text-orange-500 bg-white shadow' : 'border-gray-200 text-gray-700 bg-gray-100 hover:border-orange-300 hover:text-orange-500'}`}\r\n          >\r\n            {league.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {/* Scoreboard Table */}\r\n      <div className=\"w-full max-w-4xl mx-auto space-y-12\">\r\n        {scoresByRound.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-400\">No entries found</div>\r\n        ) : (\r\n          scoresByRound.map(({ round, entries }) => (\r\n            <div key={round} className=\"bg-white rounded-2xl shadow-lg p-6 border-t-8 border-orange-400\">\r\n              <h2 className=\"text-2xl font-bold text-orange-600 mb-4 flex items-center gap-3\">\r\n                <span className=\"inline-block w-6 h-6 bg-orange-400 rounded-full\"></span>\r\n                {round}\r\n              </h2>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-left\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-200\">\r\n                      <th className=\"py-2 px-2 text-gray-500 font-semibold\">Rank</th>\r\n                      <th className=\"py-2 px-2 text-gray-500 font-semibold\">Team</th>\r\n                      <th className=\"py-2 px-2 text-gray-500 font-semibold\">Score</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {entries.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan={3} className=\"text-center py-8 text-gray-400\">No teams in this round</td>\r\n                      </tr>\r\n                    ) : (\r\n                      entries.map((entry, idx) => (\r\n                        <tr key={entry.id} className={`border-b border-gray-100 ${idx === 0 ? 'bg-yellow-50' : ''}`}>\r\n                          <td className={`py-2 px-2 font-bold ${idx === 0 ? 'text-yellow-600' : 'text-gray-800'}`}>{idx === 0 ? 'üèÜ' : idx + 1}</td>\r\n                          <td className=\"py-2 px-2 text-gray-900 font-medium\">{entry.team}</td>\r\n                          <td className={`py-2 px-2 font-bold ${idx === 0 ? 'text-yellow-600' : 'text-gray-900'}`}>{entry.score}</td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}