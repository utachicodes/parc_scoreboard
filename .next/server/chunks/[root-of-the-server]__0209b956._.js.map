{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abdou/OneDrive/Desktop/parc_dashboard_v1/src/services/localStorage.ts"],"sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\n\r\n// Local file paths for storing data\r\nconst DATA_DIR = path.join(process.cwd(), 'data');\r\nconst STARS_FILE = path.join(DATA_DIR, 'stars_scores.json');\r\nconst TECH_FILE = path.join(DATA_DIR, 'tech_scores.json');\r\n\r\n// Ensure data directory exists\r\nif (!fs.existsSync(DATA_DIR)) {\r\n  fs.mkdirSync(DATA_DIR, { recursive: true });\r\n}\r\n\r\n// Initialize empty files if they don't exist\r\nif (!fs.existsSync(STARS_FILE)) {\r\n  fs.writeFileSync(STARS_FILE, JSON.stringify([], null, 2));\r\n}\r\nif (!fs.existsSync(TECH_FILE)) {\r\n  fs.writeFileSync(TECH_FILE, JSON.stringify([], null, 2));\r\n}\r\n\r\nexport interface LocalScore {\r\n  id: string;\r\n  team: string;\r\n  round: string;\r\n  submitted_by: string;\r\n  score: number | string;\r\n  time: string;\r\n  createdAt: string;\r\n  [key: string]: any; // Allow additional fields\r\n}\r\n\r\nclass LocalStorageService {\r\n  private readFile(filePath: string): LocalScore[] {\r\n    try {\r\n      const data = fs.readFileSync(filePath, 'utf8');\r\n      return JSON.parse(data);\r\n    } catch (error) {\r\n      console.error(`Error reading ${filePath}:`, error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  private writeFile(filePath: string, data: LocalScore[]): void {\r\n    try {\r\n      fs.writeFileSync(filePath, JSON.stringify(data, null, 2));\r\n    } catch (error) {\r\n      console.error(`Error writing ${filePath}:`, error);\r\n    }\r\n  }\r\n\r\n  // Stars Scores\r\n  async getStarsScores(): Promise<LocalScore[]> {\r\n    return this.readFile(STARS_FILE);\r\n  }\r\n\r\n  async addStarsScore(score: Omit<LocalScore, 'id' | 'createdAt'>): Promise<LocalScore> {\r\n    const scores = this.readFile(STARS_FILE);\r\n    const newScore: LocalScore = {\r\n      ...score,\r\n      id: Date.now().toString(),\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    scores.unshift(newScore); // Add to beginning\r\n    this.writeFile(STARS_FILE, scores);\r\n    return newScore;\r\n  }\r\n\r\n  async updateStarsScore(id: string, updates: Partial<LocalScore>): Promise<LocalScore | null> {\r\n    const scores = this.readFile(STARS_FILE);\r\n    const index = scores.findIndex(s => s.id === id);\r\n    if (index === -1) return null;\r\n    \r\n    scores[index] = { ...scores[index], ...updates };\r\n    this.writeFile(STARS_FILE, scores);\r\n    return scores[index];\r\n  }\r\n\r\n  async deleteStarsScore(id: string): Promise<boolean> {\r\n    const scores = this.readFile(STARS_FILE);\r\n    const filtered = scores.filter(s => s.id !== id);\r\n    if (filtered.length === scores.length) return false;\r\n    \r\n    this.writeFile(STARS_FILE, filtered);\r\n    return true;\r\n  }\r\n\r\n  // Tech Scores\r\n  async getTechScores(): Promise<LocalScore[]> {\r\n    return this.readFile(TECH_FILE);\r\n  }\r\n\r\n  async addTechScore(score: Omit<LocalScore, 'id' | 'createdAt'>): Promise<LocalScore> {\r\n    const scores = this.readFile(TECH_FILE);\r\n    const newScore: LocalScore = {\r\n      ...score,\r\n      id: Date.now().toString(),\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    scores.unshift(newScore); // Add to beginning\r\n    this.writeFile(TECH_FILE, scores);\r\n    return newScore;\r\n  }\r\n\r\n  async updateTechScore(id: string, updates: Partial<LocalScore>): Promise<LocalScore | null> {\r\n    const scores = this.readFile(TECH_FILE);\r\n    const index = scores.findIndex(s => s.id === id);\r\n    if (index === -1) return null;\r\n    \r\n    scores[index] = { ...scores[index], ...updates };\r\n    this.writeFile(TECH_FILE, scores);\r\n    return scores[index];\r\n  }\r\n\r\n  async deleteTechScore(id: string): Promise<boolean> {\r\n    const scores = this.readFile(TECH_FILE);\r\n    const filtered = scores.filter(s => s.id !== id);\r\n    if (filtered.length === scores.length) return false;\r\n    \r\n    this.writeFile(TECH_FILE, filtered);\r\n    return true;\r\n  }\r\n}\r\n\r\nexport const localStorage = new LocalStorageService(); "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abdou/OneDrive/Desktop/parc_dashboard_v1/src/app/api/tech-scores/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { localStorage } from '@/services/localStorage';\r\n\r\nexport async function GET() {\r\n  try {\r\n    const data = await localStorage.getTechScores();\r\n    return NextResponse.json(data);\r\n  } catch (err) {\r\n    console.error('Unexpected error:', err);\r\n    return NextResponse.json({ \r\n      error: err instanceof Error ? err.message : 'Unknown error',\r\n      details: 'GET /api/tech-scores failed'\r\n    }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json();\r\n    const data = await localStorage.addTechScore(body);\r\n    return NextResponse.json(data);\r\n  } catch (err) {\r\n    console.error('Unexpected error:', err);\r\n    return NextResponse.json({ \r\n      error: err instanceof Error ? err.message : 'Unknown error',\r\n      details: 'POST /api/tech-scores failed'\r\n    }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function PATCH(req: NextRequest) {\r\n  try {\r\n    const { id, ...fields } = await req.json();\r\n    const data = await localStorage.updateTechScore(id, fields);\r\n    if (!data) return NextResponse.json({ error: 'Score not found' }, { status: 404 });\r\n    return NextResponse.json(data);\r\n  } catch (err) {\r\n    console.error('Unexpected error:', err);\r\n    return NextResponse.json({ \r\n      error: err instanceof Error ? err.message : 'Unknown error',\r\n      details: 'PATCH /api/tech-scores failed'\r\n    }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function DELETE(req: NextRequest) {\r\n  try {\r\n    const { id } = await req.json();\r\n    const success = await localStorage.deleteTechScore(id);\r\n    if (!success) return NextResponse.json({ error: 'Score not found' }, { status: 404 });\r\n    return NextResponse.json({ success: true });\r\n  } catch (err) {\r\n    console.error('Unexpected error:', err);\r\n    return NextResponse.json({ \r\n      error: err instanceof Error ? err.message : 'Unknown error',\r\n      details: 'DELETE /api/tech-scores failed'\r\n    }, { status: 500 });\r\n  }\r\n} "],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,iIAAA,CAAA,eAAY,CAAC,aAAa;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC5C,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,OAAO,MAAM,iIAAA,CAAA,eAAY,CAAC,YAAY,CAAC;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC5C,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF;AAEO,eAAe,MAAM,GAAgB;IAC1C,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG,QAAQ,GAAG,MAAM,IAAI,IAAI;QACxC,MAAM,OAAO,MAAM,iIAAA,CAAA,eAAY,CAAC,eAAe,CAAC,IAAI;QACpD,IAAI,CAAC,MAAM,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkB,GAAG;YAAE,QAAQ;QAAI;QAChF,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC5C,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF;AAEO,eAAe,OAAO,GAAgB;IAC3C,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,IAAI,IAAI;QAC7B,MAAM,UAAU,MAAM,iIAAA,CAAA,eAAY,CAAC,eAAe,CAAC;QACnD,IAAI,CAAC,SAAS,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkB,GAAG;YAAE,QAAQ;QAAI;QACnF,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC5C,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}